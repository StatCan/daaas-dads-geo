
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.16">
    
    
      
        <title>PostgreSQL + PostGIS - GeoSpatial Platform - Development Draft</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.1c3799f8.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cc9b2e1e.min.css">
        
          
          
          <meta name="theme-color" content="#4cae4f">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="green" data-md-color-accent="red">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#postgresqlpostgis" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="GeoSpatial Platform - Development Draft" class="md-header__button md-logo" aria-label="GeoSpatial Platform - Development Draft" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            GeoSpatial Platform - Development Draft
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              PostgreSQL + PostGIS
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="GeoSpatial Platform - Development Draft" class="md-nav__button md-logo" aria-label="GeoSpatial Platform - Development Draft" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    GeoSpatial Platform - Development Draft
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        About DAaaS GEO
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        Contact
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../quick/" class="md-nav__link">
        Quick Start
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../login/" class="md-nav__link">
        Logging In
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../vm/" class="md-nav__link">
        Virtual Machine
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../pipeline/" class="md-nav__link">
        Data Ingestion & Storage
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          PostgreSQL + PostGIS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        PostgreSQL + PostGIS
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-via" class="md-nav__link">
    Accessing via:
  </a>
  
    <nav class="md-nav" aria-label="Accessing via:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-pgadmin" class="md-nav__link">
    1. pgAdmin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-arcpro" class="md-nav__link">
    2. ArcPro
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-qgis" class="md-nav__link">
    3. QGIS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-cae-azure-cloud-services" class="md-nav__link">
    4. CAE- Azure Cloud Services
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-add-data-into-your-database" class="md-nav__link">
    How to add data into your database
  </a>
  
    <nav class="md-nav" aria-label="How to add data into your database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-python" class="md-nav__link">
    1. Python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-pgadmim" class="md-nav__link">
    2. pgAdmim
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-qgis_1" class="md-nav__link">
    3. QGIS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-arcpro" class="md-nav__link">
    4. ArcPro
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          ArcGIS ecosystem
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="ArcGIS ecosystem" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          ArcGIS ecosystem
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../portal/" class="md-nav__link">
        ArcGIS Portal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pro/" class="md-nav__link">
        ArcGIS Pro
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../qgis/" class="md-nav__link">
        QGIS
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Cross-Platform (AAW/CAE)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cross-Platform (AAW/CAE)" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Cross-Platform (AAW/CAE)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../aaw/" class="md-nav__link">
        AAW
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cae/" class="md-nav__link">
        CAE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          Knowledge Centre
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Knowledge Centre" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Knowledge Centre
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intro/" class="md-nav__link">
        Simple GIS Intro
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../resources/" class="md-nav__link">
        Training and Tutorials
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-via" class="md-nav__link">
    Accessing via:
  </a>
  
    <nav class="md-nav" aria-label="Accessing via:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-pgadmin" class="md-nav__link">
    1. pgAdmin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-arcpro" class="md-nav__link">
    2. ArcPro
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-qgis" class="md-nav__link">
    3. QGIS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-cae-azure-cloud-services" class="md-nav__link">
    4. CAE- Azure Cloud Services
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-add-data-into-your-database" class="md-nav__link">
    How to add data into your database
  </a>
  
    <nav class="md-nav" aria-label="How to add data into your database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-python" class="md-nav__link">
    1. Python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-pgadmim" class="md-nav__link">
    2. pgAdmim
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-qgis_1" class="md-nav__link">
    3. QGIS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-arcpro" class="md-nav__link">
    4. ArcPro
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="postgresqlpostgis">PostgreSQL+PostGIS &nbsp;&nbsp;&nbsp;&nbsp; <img alt="postgis logo" src="../images/post.png" /></h1>
<h4 id="prerequisites">Prerequisites</h4>
<ol>
<li>An onboarded project with a requested database   </li>
<li>A <strong>virtual machine</strong> in the DAaaS Environment. See the <a href="../vm/">VM page</a> for more information.</li>
<li>with <strong>pgAdmin</strong> and/or <strong>ArcGIS Pro</strong> and/or <strong>QGIS</strong> and/or <strong>CAE Azure Services</strong>. </li>
</ol>
<p>Learn More: <a href="https://postgis.net/">About PostGIS</a></p>
<p>Learn More: <a href="https://www.postgresql.org/">About PostgreSQL</a></p>
<hr style="height:2px; background-color:black">

<h2 id="accessing-via">Accessing via:</h2>
<h3 id="1-pgadmin">1. pgAdmin</h3>
<p>This is one of the more common tool for PostgreSQL database administration. PG-Admin has been installed on your VM.</p>
<ol>
<li>
<p>Connect to your cloud VM and launch <strong>pgAdmin</strong>.
    <img alt="LaunchPgAdmin" src="../images/PgSql_01.png" /></p>
</li>
<li>
<p>Add the server you need to connect to by right clicking on Servers in the top left corner
    <img alt="CreateServer" src="../images/PgSql_02.png" /></p>
</li>
<li>
<p>In the General tab, enter a name for your server. You can write the real name of the server
   In the Connection tab, enter the full Server name and add your Cloud Account  as Username followed by the server name
   or the active directory group you belong to followed by the server name if access to the server was granted to that active directory group.
    <img alt="pgAdminParameters" src="../images/PgSql_03.png" /></p>
</li>
<li>
<p>You can now see in the list of server the newly added server. 
   Click on it to connect and you will be asked to enter a password
    <img alt="EnterPassword" src="../images/PgSql_04.png" /></p>
</li>
<li>
<p>The password you need to enter is a Azure AD access Token that will be generated for an authenticated Azure AD user. 
   From PowerShell, you can generate this access token by entering the following command</p>
</li>
</ol>
<p><em>az account get-access-token --resource https://ossrdbms-aad.database.windows.net</em></p>
<p>The output is as follow, where you will need to copy the value for accessToken and use it as Password in  pgAdmin
    <img alt="AccessToken" src="../images/PgSql_05.png" /></p>
<p>Learn More: <a href="https://www.pgadmin.org/docs/pgadmin4/latest/getting_started.html">pgAdmin docs</a></p>
<hr />
<h3 id="2-arcpro">2. ArcPro</h3>
<p>Here is one method to connected to your PostgreSQL+PostGIS database in ArcGIS Pro:</p>
<ol>
<li>
<p>Navigate to the <strong>Insert</strong> tab, select <strong>Connections</strong>, then select <strong>Database</strong> &gt; <strong>New Database Connection</strong>.
    <img alt="pro_post1" src="/images/pro_post1.PNG" /></p>
</li>
<li>
<p>In the new window, Choose PostgreSQL from the Database Platform drop-down list. Enter the database information provided to you during onboarding (see email: <em>Welcome to DAaaS GEO</em>).
    <img alt="pro_post2" src="/images/pro_post2.PNG" /></p>
</li>
<li>
<p>Open/Navigate to the <strong>Catalog</strong> pane, Expand <strong>Databases</strong> and the new connection will be listed there.
    <img alt="pro_post3" src="/images/pro_post3.PNG" /></p>
</li>
</ol>
<p>Learn More: <a href="https://pro.arcgis.com/en/pro-app/2.8/help/data/databases/connect-postgresql.htm">ArcGIS Pro Documentation</a></p>
<hr />
<h3 id="3-qgis">3. QGIS</h3>
<ol>
<li>
<p>Under the browser tab, Right-click PostgreSQL, and select <em>New Connection</em></p>
<p><img alt="post_gis1" src="../images/post_qgis1.PNG" /></p>
</li>
<li>
<p>A new window will open:</p>
<p><img alt="post_gis2" src="../images/post_gis2.PNG" /></p>
</li>
<li>
<p>Enter the following information:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th></th>
<th>Entry</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td></td>
<td>Your chosen name(alias) for the database</td>
</tr>
<tr>
<td>Host</td>
<td></td>
<td>Database Instance <em>see onboarding info</em></td>
</tr>
<tr>
<td>Port</td>
<td></td>
<td>5432</td>
</tr>
<tr>
<td>Database</td>
<td></td>
<td>The true name of the database <em>see onboarding info</em></td>
</tr>
<tr>
<td>SSL mode</td>
<td></td>
<td>allow</td>
</tr>
<tr>
<td>Authentication</td>
<td></td>
<td>*Press the green + button, then enter your cloud info</td>
</tr>
<tr>
<td>Also list tables with no geometry</td>
<td></td>
<td>YES</td>
</tr>
<tr>
<td>**All other fields can be left blank</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Select <em>Test Connection</em></p>
</li>
<li>
<p>The database will now appear under the <em>PostgreSQL</em> heaiding in the QGIS Browser</p>
</li>
</ol>
<p>Learn More:</p>
<ul>
<li>
<p><a href="https://docs.qgis.org/testing/en/docs/user_manual/managing_data_source/opening_data.html#creating-a-stored-connection">QGIS Documentation</a></p>
</li>
<li>
<p><a href="https://techcommunity.microsoft.com/t5/azure-database-for-postgresql/qgis-azure-database-for-postgresql-postgis/ba-p/1152249">QGIS + Azure Documentation</a></p>
</li>
<li>
<p><a href="https://www.line-45.com/post/using-qgis-postgis-dynamic-duo">Line 45- Using QGIS with PostGIS: A Dynamic Duo (whitepaper - English only)</a></p>
</li>
</ul>
<hr />
<h3 id="4-cae-azure-cloud-services">4. CAE- Azure Cloud Services</h3>
<p><strong>Azure Data Factory, Azure Data Bricks, Azure Synapse</strong></p>
<p><a href="https://statcan.github.io/cae-eac/en/PostgreSQL/">Learn how to use CAE services</a></p>
<p>Please contact the support team through the https://cae-eac.slack.com channel if you need assistance.</p>
<hr style="height:2px; background-color:black">

<h2 id="how-to-add-data-into-your-database">How to add data into your database</h2>
<h3 id="1-python">1. Python</h3>
<p>There are many python packages available for working with PostgreSQL (SQLAlchemy, psycopg*, ogr2ogr...)  This example uses sqlalchemy with help from geoPandas to load a shapefile into the database:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">create_engine</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># create the sqlalchemy connection engine</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="c1"># replace the &lt; &gt;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="c1">#Example: &quot;postgresql://myUsername:myPassword@geopostgresqlflex.postgres.database.azure.com:5432/myDataBase&quot;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="n">db_connection_url</span> <span class="o">=</span> <span class="s2">&quot;postgresql://&lt;username&gt;:&lt;password&gt;@&lt;instance&gt;:&lt;port&gt;/&lt;database&gt;&quot;</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="n">link</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="n">db_connection_url</span><span class="p">)</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="c1"># read in the data into a geo-dataframe</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="n">gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;path_to_file&#39;</span><span class="p">)</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="c1"># Push the geo-dataframe to postgresql</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="n">gdf</span><span class="o">.</span><span class="n">to_postgis</span><span class="p">(</span><span class="s2">&quot;&lt;table_name&gt;&quot;</span><span class="p">,</span> <span class="n">link</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">if_exists</span><span class="o">=</span><span class="s1">&#39;replace&#39;</span><span class="p">)</span> 
</code></pre></div>
Learn More:</p>
<ul>
<li>
<p><a href="https://docs.sqlalchemy.org/en/14/">SQLAlchemy Docs</a></p>
</li>
<li>
<p><a href="https://www.pythonsheets.com/notes/python-sqlalchemy.html">PYSHEET - SQLAlchemy cheatsheet (unofficial)</a></p>
</li>
<li>
<p><a href="https://geopandas.org/en/stable/">GeoPandas Docs</a></p>
</li>
</ul>
<hr />
<h3 id="2-pgadmim">2. pgAdmim</h3>
<p>pgAdmin Help Docs: <a href="https://www.pgadmin.org/docs/pgadmin4/development/import_export_data.html">Import/Export Data</a></p>
<p><img alt="Import/Export_postgresql" src="../images/PGimport_export_options.png" /></p>
<hr />
<h3 id="3-qgis_1">3. QGIS</h3>
<p>In current versions of QGIS you can export shape files to PostGIS using the build in DB Manager.  Somewhat counterintuitively, QGIS refers to this as 'importing to Postgis'. </p>
<ol>
<li>
<p>Open DB Manager
<img alt="open_DB" src="../images/GZor3.jpg" /></p>
</li>
<li>
<p>In the list of PostGIS databases find the one you want to export to, find the desired schema and press import button (marked with the red outline).
<img alt="layer_to_post" src="../images/RAHSN.png" /></p>
</li>
<li>
<p>Choose the shape file in 'input' (must be in your 'Layers Panel') and press 'ok'
<img alt="shp_to_post" src="../images/4UuEs.png" /></p>
</li>
</ol>
<p>Learn More: </p>
<ul>
<li>
<p><a href="https://docs.qgis.org/3.22/en/docs/training_manual/spatial_databases/import_export.html#db-manager">QGIS Docs- Lesson: Import and Export</a></p>
</li>
<li>
<p><a href="https://live.osgeo.org/en/quickstart/postgis_quickstart.html">OSGeo Docs- PostGIS Quickstart</a></p>
</li>
<li>
<p><a href="https://www.line-45.com/post/using-qgis-postgis-dynamic-duo">Line 45- Using QGIS with PostGIS: A Dynamic Duo (whitepaper)</a></p>
</li>
</ul>
<hr />
<h3 id="4-arcpro">4. ArcPro</h3>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This section is incomplete. We will be updating this section soon. </p>
</div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../pipeline/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Data Ingestion &amp; Storage" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Data Ingestion & Storage
            </div>
          </div>
        </a>
      
      
        
        <a href="../portal/" class="md-footer__link md-footer__link--next" aria-label="Next: ArcGIS Portal" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              ArcGIS Portal
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2020
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["tabs"], "search": "../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.3a4b43e5.min.js"></script>
      
    
  </body>
</html>